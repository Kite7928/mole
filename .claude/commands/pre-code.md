# 编码前规范检查

在开始编码之前执行此检查，确保方案完备、需求清晰、任务合理分解。

---

## 第1步：需求澄清

检查以下问题是否已明确：

- [ ] 目标：要实现什么？解决什么问题？
- [ ] 范围：涉及哪些模块/文件？
- [ ] 约束：有哪些技术限制或业务规则？
- [ ] 验收条件：怎样算完成？

如有不明确项，必须向用户提出澄清问题。

## 第2步：现有代码分析

- [ ] 分析至少 3 个现有实现或模式
- [ ] 识别可复用的接口与约束
- [ ] 确认输入输出协议、配置与环境需求
- [ ] 确认现有测试框架和命名约定

## 第3步：方案设计

编码前必须输出以下内容：

```markdown
## 技术方案

### 目标
<简述要实现的功能>

### 影响范围
- 修改文件：<列出所有需要修改的文件>
- 新增文件：<列出所有需要新增的文件>
- 删除文件：<列出所有需要删除的文件>

### 实现思路
<详细描述实现方案>

### 复用方案
- 官方SDK/社区方案：<优先使用的外部方案>
- 项目内复用：<可复用的现有模块>

### 风险评估
- <潜在风险1>
- <潜在风险2>
```

**等待用户批准后方可开始编码。**

## 第4步：任务分解

涉及修改超过3个文件时，必须分解：

```markdown
## 任务分解

### 子任务1：<名称>
- 文件：<涉及文件>
- 内容：<具体工作>
- 依赖：<前置条件>

### 子任务2：<名称>
...
```

分步骤执行，每步完成后验证。

---

## 架构优先级检查

- [ ] 是否已查找官方SDK/社区成熟方案？（标准化+生态复用最高优先级）
- [ ] 是否避免了自研方案？
- [ ] 是否有可删除的自研实现？

---

## 核心原则

> 方案先行，需求清晰，任务可控。编码前多花10分钟思考，编码时少走10小时弯路。
